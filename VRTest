local Players = game:GetService("Players"); 
local RunService = game:GetService("RunService");
local VRService = game:GetService("VRService");

local LP = Players.LocalPlayer
local CurrentCamera = workspace.CurrentCamera 

local SyncAPI = LP.Backpack:FindFirstChild("SyncAPI", true); 
local ServerEndpoint = SyncAPI.ServerEndpoint

local HelperFuncs, SyncModule = {}, require(SyncAPI.SyncModule); 

LP.Character.UpperTorso:ClearAllChildren(); 
LP.Character.LowerTorso:Destroy(); 

HelperFuncs.PerformAction_Server = function(ActionName, ...)
      return ServerEndpoint:InvokeServer(ActionName, ...); 
end 

HelperFuncs.PerformAction_Client = function(ActionName, ...)
      return SyncModule.PerformAction(LP, ActionName, ...); 
end 

local LHand = HelperFuncs.PerformAction_Server("CreatePart", "Normal", CFrame.new(), LP.Character); 
local RHand = HelperFuncs.PerformAction_Server("CreatePart", "Normal", CFrame.new(), LP.Character); 
RunService.RenderStepped:Connect(function()
      local LHandCFrame = CurrentCamera.CFrame * VRService:GetUserCFrame(Enum.UserCFrame.LeftHand); 
      local RHandCFrame = CurrentCamera.CFrame * VRService:GetUserCFrame(Enum.UserCFrame.RightHand); 

      local Changes = {}
      table.insert(Changes, {
            Part = LHand,
            Anchored = false,
            CFrame = LHandCFrame * CFrame.Angles(0,math.rad(90),0) * CFrame.new(0,0,-1.5); 
      },{
            Part = RHand,
            Anchored = false,
            CFrame = RHandCFrame * CFrame.Angles(0,math.rad(90),0) * CFrame.new(0,0,-1.5); 
      })

      HelperFuncs.PerformAction_Server("SyncMove", Changes); 
end); 

